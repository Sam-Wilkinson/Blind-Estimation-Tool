<div class="container-fluid">
  <% if @room.users.blank? %>
    <h5><%= t('views.rooms.show.other_users.no_users') %></h5>
    <h5><%= t('views.rooms.show.other_users.call_to_action') %></h5>
      <%= link_to t('views.rooms.show.buttons.destroy'), room_path(@room), method: 'delete', type: 'button', class: 'btn btn-danger float-end'%>
  <% else %>
    <button type="button" class="btn btn-success float-start"><%= t('views.rooms.show.table.options.estimate') %></button>
    <% if @room.admin == current_user %>
      <%= link_to t('views.rooms.show.buttons.destroy'), room_path(@room), method: 'delete', type: 'button', class: 'btn btn-danger float-end'%>
    <% else %>
      <%= link_to t('views.rooms.show.buttons.leave'), leave_room_path(@room), method: 'post', type: 'button', class: 'btn btn-danger float-end' %>
    <% end%>
    <table class="table">
      <thead>
        <tr>
          <th scope="col"><%= t('active_record.attributes.user.username') %></th>
          <% if @room.admin == current_user %>
            <th scope="col"><%= t('views.rooms.show.table.titles.action') %></th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <td><%= @room.admin.username %></td>
        <% @room.users.each do |user| %>
          <tr>
            <td><%= user.username %></td>
            <% if @room.admin == current_user %>
              <td>
                <button type="button" class="btn btn-danger float-end"><%= t('views.rooms.show.table.titles.kick')%> </button>
              </td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>
</div>
